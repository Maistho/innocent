jQuery(function(a){function b(){a("pre code").each(function(a,b){hljs.highlightBlock(b)})}function c(){a("#wrapper").fitVids()}function d(){a(".post-meta a").each(function(){var b=a(this);b.addClass("js-ajax-link"),b.attr("href").indexOf("tag")>-1&&b.addClass("js-tag-index"),b.attr("href").indexOf("author")>-1&&b.addClass("js-author-index")}),a(".pagination a").each(function(){var b=a(this);b.addClass("js-ajax-link"),b.attr("href").indexOf("page")>-1?b.addClass("js-archive-index"):b.addClass("js-show-index"),b.attr("href").indexOf("tag")>-1&&b.addClass("js-tag-index"),b.attr("href").indexOf("author")>-1&&b.addClass("js-author-index")})}function e(){d(),b(),c()}var f=a("body");b(),c(),d();var g=window.History,h=!1,i=a("#ajax-container");return g.enabled?(g.Adapter.bind(window,"statechange",function(){var b=g.getState();a.get(b.url,function(b){var c=a(b),d=a("#ajax-container",c).contents(),g=b.match(/<title>(.*?)<\/title>/)[1];i.fadeOut(500,function(){document.title=g,i.html(d),f.removeClass(),f.addClass(a("#body-class").attr("class")),a("html").removeClass("loading"),NProgress.done(),e(),h=!1,i.fadeIn(500)})})}),void a("body").on("click",".js-ajax-link",function(b){if(b.preventDefault(),h===!1){var c=g.getState(),d=a(this).prop("href"),e=a(this).attr("title")||null;d.replace(/\/$/,"")!==c.url.replace(/\/$/,"")&&(h=!0,a("html").addClass("loading"),NProgress.start(),g.pushState({},e,d))}})):!1});