jQuery(function(a){function b(){a("#wrapper").fitVids()}function c(){b()}a("body");b();var d=!1,e=a("#ajax-container");return window.history?(window.onpopstate=function(b){console.log(b.state,b),b.state&&a.get(window.location.href,function(b){var f=a(b),g=a("#ajax-container",f).contents(),h=b.match(/<title>(.*?)<\/title>/)[1];e.fadeOut(500,function(){document.title=h,e.html(g),a("html").removeClass("loading"),NProgress.done(),c(),d=!1,e.fadeIn(500)})})},a("body").on("click","a",function(b){if(-1!=a(this).prop("href").indexOf(window.location.origin)&&(b.preventDefault(),d===!1)){var c=a(this).prop("href"),e=a(this).attr("title")||null;c.replace(/\/$/,"")!==window.location.href.replace(/\/$/,"")&&(d=!0,a("html").addClass("loading"),NProgress.start(),history.pushState({},e,c),window.onpopstate({state:{}}))}}),void history.replaceState({},document.title)):!1});